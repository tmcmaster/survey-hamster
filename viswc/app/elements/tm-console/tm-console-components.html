<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-card/paper-card.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../../bower_components/iron-list/iron-list.html">
<link rel="import" href="../../bower_components/paper-styles/color.html">

<dom-module id="tm-console-components">
  <template>
  
    <style>
    
      paper-card {
        padding: 10px;
        box-sizing: border-box;
        width:100%;
        height:345px;
        margin-top: 8px;
      }
      span.graph {
        float:right;
        padding-top:110px;
      }      
    </style>
    <paper-card heading="Components">
      <table width="100%">
        <thead>
          <tr>
              <th></th>
              <th align="right">Count</th>
              <th align="right">Warning</th>
              <th align="right">Error</th>
          </tr>
        </thead>
        <template is="dom-repeat" items="{{items}}">
          <tr>
            <td>{{item.component}}</td>
            <td align="right"><a href="#" title="List all logs for the component during the last hour.">{{item.count}}</a></td>
            <td align="right"><a href="#" title="List warning logs for the component during the last hour.">{{item.warn}}</a></td>
            <td align="right"><a href="#" title="List error logs for the component during the last hour.">{{item.error}}</a></td>
          </tr>
        </template>
      </table>
      <span class="graph">
        <a href="/viswc/app/demos/aster-plot-demo.html" target="_graph" title="Graph transactions to visualise errors.">Graph</a>
      </span>
    </paper-card>

  </template>

  <script>
    (function(Polymer) {
      'use strict';
  
      Polymer({
        is: 'tm-console-components',
        properties: {
          items: {
            type: Array,
            notify: true,
            value: [
              {component:"API Gateway",count: 45, warn:5, error: 0},
              {component:"User Service",count: 22, warn:1, error: 1},
              {component:"Policy Service",count: 10, warn:2, error: 6},
              {component:"OKTA",count: 50, warn:3, error: 1},
              {component:"ESB",count: 35, warn:9, error: 7}
            ]
          }
        },
        ready: function() {
        }
      });
    })(window.Polymer);
  </script>
</dom-module>